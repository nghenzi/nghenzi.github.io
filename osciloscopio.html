
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>osciloscopio &#8212; documentación de 28mayo_docs - 0.01</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="tips" href="e.html" />
    <link rel="prev" title="Impar.py" href="impar.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo_sur.png" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=mvt-lsf&repo=dasvm&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navegación</h3>
<p class="caption"><span class="caption-text">Los modulos que usamos son:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="main.html">main.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="func_alarmas.html">func_alarmas.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="funciones_grafico.html">funciones_grafico.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="funciones_data.html">funciones_data.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="clustering_wf.html">clustering_wf.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="funciones_bokeh.html">funciones_bokeh.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="func_opc.html">func_opc.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipe_fft_abs.html">md pipe_fft_abs</a></li>
<li class="toctree-l1"><a class="reference internal" href="impar.html">Impar.py</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">osciloscopio</a></li>
<li class="toctree-l1"><a class="reference internal" href="e.html">tips</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="impar.html" title="capítulo anterior">Impar.py</a></li>
      <li>Next: <a href="e.html" title="próximo capítulo">tips</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="osciloscopio">
<h1>osciloscopio<a class="headerlink" href="#osciloscopio" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Localización de dos funciones y un bloque de código pseudo-independiente.
El bloque de código realiza las siguientes tareas:</p>
<p>Primero crea el pipe de lectura de datos y captura los datos que le llegan por el mismo desde la consola.</p>
<a class="reference internal image-reference" href="_images/osci001.png"><img alt="Alternative text" src="_images/osci001.png" style="width: 500px;" /></a>
<p>Se reconfiguró esta parte para que, si no puede abrir el pipe, simule datos (en este caso indistinto) para prueba sin un equipo de medición.</p>
<p>Seguido a esto crea los gráficos en formato osciloscopio donde se observan los dos canales de adquisición de datos de la placa AdLink,
el cual el canal 0 es el canal donde se registra el ‘pasto’ que utilizamos para registrar las perturbaciones vibracionales en el sistema DAS.</p>
<a class="reference internal image-reference" href="_images/osci002.png"><img alt="Alternative text" src="_images/osci002.png" style="width: 500px;" /></a>
<p>Mediante las variables maxVoltage y binsToZoom se puede modificar el zoom inicial donde inicia el gráfico.</p>
<p>Luego setea la hora para mostrar en tiempo real el gráfico, con un pequeño retraso de no más de dos segundos.</p>
<a class="reference internal image-reference" href="_images/osci003.png"><img alt="Alternative text" src="_images/osci003.png" style="width: 500px;" /></a>
<p>Aquí solamente setea el tiempo inicial para graficarlo, más adelante se actualiza en tiempo real.
La primer función identificada es la función animate, que, lo que hace, es actualizar los gráficos en tiempo real con los
datos que le llegan mediante el pipe.</p>
<p>Primero, la función abre el pipe en formato lectura para captar los datos que llegan desde la consola y con los mismos crea
la matriz de dato crudo, que sería lo que nosotros vemos en el waterfall.</p>
<a class="reference internal image-reference" href="_images/osci004.png"><img alt="Alternative text" src="_images/osci004.png" style="width: 500px;" /></a>
<p>Como se puede ver, está configurado para que, si el pipe ya existe, intente leerlo, en caso de no poder (que sería cuando se corta la medición) el programa se cierra sin errores. En el caso de que un pipe no existiera (que sería prueba sin un equipo), se crean datos aleatorios para hacer pruebas.</p>
<p>Hace un moving average con la media de la señal y luego calcula el desvío.</p>
<p>Como se puede ver, aquí realiza los cálculos correspondientes para el muestreo de la señal de dato crudo, y solo se utiliza el canal 0.</p>
<p>Luego va ploteando los gráficos actualizados, tanto con los datos como con la hora.</p>
<a class="reference internal image-reference" href="_images/osci005.png"><img alt="Alternative text" src="_images/osci005.png" style="width: 500px;" /></a>
<p>Se actualiza el tiempo y los datos que le van llegando del canal 0.</p>
<p>Luego se encuentra la función init, la cual, lo que hace es darle unos parámetros iniciales para
inicializar los gráficos donde se verá el osciloscopio.</p>
<p>Los datos utilizados son datos aleatorios cercanos a lo que realmente se mide para poder ver el gráfico más cercano.</p>
<p>Todo esto se actualiza con una función de matplotlib que funciona como animación. Get the latest news about this at <a class="reference external" href="https://matplotlib.org/3.2.1/api/_as_gen/matplotlib.animation.FuncAnimation.html">func_animation</a>.</p>
<p>Esta es la función que actualiza el gráfico, se le pasa la figura donde lo actualiza, la animación,
la función de inicio, el intervalo de tiempo (en mili segundos) y el blitting.</p>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2020, NG.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/osciloscopio.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>